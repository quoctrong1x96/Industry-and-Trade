<div class="row">
    <h1>Quản lý Danh sách Đăng ký các Website TMĐT</h1>
</div>

<div class="row">
    <!-- <div class="col-2">
        <h4>Kỳ dữ liệu:</h4>
    </div>
    <div class="col-2">
        <mat-select placeholder="Chọn năm lọc dữ liệu" (selectionChange)="getDanhSachBuonBanLeXangDau($event.value)">
            <mat-option *ngFor='let year of years' [value]='year'>{{year}}</mat-option>
        </mat-select>
    </div> -->
    <div class="col-2">
        <h4>Địa bàn:</h4>
    </div>
    <div class="col-2">
        <mat-select placeholder="Chọn địa bàn" (selectionChange)="applyFilter()" [(ngModel)]="filterModel.id_quan_huyen" multiple>
            <mat-option *ngFor='let district of districts' [value]='district.id'>{{district.ten_quan_huyen}}
            </mat-option>
        </mat-select>
    </div>
    <!-- <div class="col-2">
        <mat-checkbox (change)="applyExpireCheck($event)" [(ngModel)]="isChecked">DN hết hạn</mat-checkbox>
    </div> -->
</div>
<br>
<br>
<div class="row">
    <div class="col-2">
        <p>Số lượng website đã đăng ký: {{filteredDataSource.data.length}}</p>
    </div>
    <!-- <div class="col-2">
        <p>Sản lượng tiêu thụ: {{sanLuongBanRa}}</p>
    </div> -->
</div>
<br>
<br>
<!-- <div class="row" *ngIf="filteredDataSource?.data.length; else ShowEmpty"> -->
<div class="row">
    <table mat-table [dataSource]="filteredDataSource" #table>
        <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef> STT </th>
            <td mat-cell *matCellDef="let element; let i = index;" class='stt'>{{i+1}}</td>
        </ng-container>

        <ng-container matColumnDef="mst">
            <th mat-header-cell *matHeaderCellDef> Mã số thuế/Quyết định </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.mst}}</td>
        </ng-container>

        <ng-container matColumnDef="ten_doanh_nghiep">
            <th mat-header-cell *matHeaderCellDef>Tên tổ chức/cá nhân </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.ten_doanh_nghiep}}</td>
        </ng-container>

        <ng-container matColumnDef="dia_chi">
            <th mat-header-cell *matHeaderCellDef> Địa chỉ </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.dia_chi}}</td>
        </ng-container>

        <ng-container matColumnDef="dien_thoai">
            <th mat-header-cell *matHeaderCellDef> Điện thoại </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.dien_thoai}}</td>
        </ng-container>

        <ng-container matColumnDef="ten_mien">
            <th mat-header-cell *matHeaderCellDef> Tên miền </th>
            <td mat-cell *matCellDef="let element" class="stt"><a href="{{element.ten_mien.includes('http')? element.ten_mien : 'http://' + element.ten_mien}}" target="_blank">{{element.ten_mien}}</a></td>
        </ng-container>

        <ng-container matColumnDef="loai_hhdv">
            <th mat-header-cell *matHeaderCellDef> Loại hàng hóa hoặc dịch vụ chủ yếu được giao dịch trên website </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.loai_hhdv}}</td>
        </ng-container>

        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.email}}</td>
        </ng-container>

        <ng-container matColumnDef="so_gian_hang">
            <th mat-header-cell *matHeaderCellDef> Số gian hàng trên website </th>
            <td mat-cell *matCellDef="let element" class="stt">{{element.so_gian_hang}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns">
        </tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;let i = index; ">
    </table>
</div>
<ng-template #ShowEmpty>
    <h1>Không có dữ liệu</h1>
</ng-template>